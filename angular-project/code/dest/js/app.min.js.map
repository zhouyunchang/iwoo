{"version":3,"sources":["common/loading/loading.module.js","common/loading/loading.service.js","common/loading/loading.directive.js","common/loading/loading.config.js","common/exception/exception.module.js","common/exception/exception-handler.provider.js","home/home.module.js","home/home.controller.js","app.module.js","app.router.js","app.database.js"],"names":[],"mappings":"CACA,WACA,YAEA,SAAA,OAAA,wBCFA,WACA,YAOA,SAAA,GAAA,EAAA,GACA,OACA,QAAA,SAAA,GAKA,MAHA,GAAA,aACA,EAAA,WAAA,+BAEA,GAAA,EAAA,KAAA,IAEA,SAAA,SAAA,GAKA,MAHA,GAAA,OAAA,aACA,EAAA,WAAA,+BAEA,GAAA,EAAA,KAAA,IAEA,cAAA,SAAA,GAMA,MAJA,GAAA,OAAA,aACA,EAAA,WAAA,+BAGA,EAAA,OAAA,KA3BA,QACA,OAAA,kBACA,QAAA,gCAAA,GAEA,EAAA,SAAA,KAAA,iBCPA,WACA,YAOA,SAAA,GAAA,GAKA,OACA,SAAA,IACA,SAAA,GACA,KAAA,SAAA,EAAA,GACA,GAAA,GAAA,IACA,GAAA,IAAA,8BAAA,WAEA,EAAA,EAAA,WACA,EAAA,SAAA,oBACA,OAGA,EAAA,IAAA,8BAAA,WACA,OAAA,GAAA,EAAA,OAAA,GAEA,EAAA,YAAA,uBAzBA,QACA,OAAA,kBACA,UAAA,gCAAA,GAEA,EAAA,SAAA,eCRA,WACA,YAEA,SAAA,OAAA,kBAAA,QAAA,gBAAA,SAAA,GACA,EAAA,aAAA,KAAA,uCCLA,WACA,YAEA,SAAA,OAAA,0BCHA,WACA,YAEA,SAAA,OAAA,oBACA,QAAA,oBAAA,KAAA,SAAA,GACA,OACA,cAAA,SAAA,GAEA,GAAA,MAAA,EAAA,OAAA,CACA,GAAA,GAAA,UAAA,SAAA,SAAA,SAAA,KACA,QAAA,SAAA,KAAA,mCAAA,MACA,OAAA,EAAA,OACA,KAAA,KAAA,EAAA,KAAA,SACA,MAAA,EAAA,OACA,KAAA,SAAA,EAAA,KAAA,kBACA,KAAA,EAAA,QACA,KAAA,WAAA,GAEA,OAAA,GAAA,OAAA,QAIA,QAAA,gBAAA,SAAA,GACA,EAAA,aAAA,KAAA,0BCvBA,WACA,YAEA,SAAA,OAAA,mBCHA,WACA,YAOA,SAAA,KAQA,QAAA,MAJA,IATA,QACA,OAAA,aACA,WAAA,iBAAA,GAEA,EAAA,aCPA,WACA,YAEA,SAAA,OAAA,QACA,YAEA,YAEA,iBACA,wBCTA,WACA,YAEA,SACA,OAAA,QACA,QAAA,iBAAA,qBAAA,SAAA,EAAA,GACA,EAAA,UAAA,SAEA,EACA,MAAA,QACA,IAAA,QACA,YAAA,iBACA,WAAA,iBACA,aAAA,aCbA,WACA,YAWA,SAAA,MATA,QACA,OAAA,QACA,QAAA,WAAA,GACA,QAAA,gBAAA,SAAA,GACA,EAAA,aAAA,KAAA,uBAGA,EAAA,SAAA","file":"app.min.js","sourcesContent":["\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('common.loading', [\r\n\r\n    ]);\r\n})();\r\n","\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('common.loading')\r\n        .service('httpLoadingInterceptorService', httpLoadingInterceptorService);\r\n\r\n    httpLoadingInterceptorService.$inject = ['$q', '$rootScope'];\r\n    function httpLoadingInterceptorService($q, $rootScope) {\r\n        return {\r\n            request: function (config) {\r\n                // Shows the loader\r\n                if (config.showLoading) {\r\n                    $rootScope.$broadcast(\"httpLoadingInterceptor:show\");\r\n                }\r\n                return config || $q.when(config)\r\n            },\r\n            response: function (response) {\r\n                // Hides the loader\r\n                if (response.config.showLoading) {\r\n                    $rootScope.$broadcast(\"httpLoadingInterceptor:hide\");\r\n                }\r\n                return response || $q.when(response);\r\n            },\r\n            responseError: function (response) {\r\n                // Hides the loader\r\n                if (response.config.showLoading) {\r\n                    $rootScope.$broadcast(\"httpLoadingInterceptor:hide\");\r\n                }\r\n\r\n                return $q.reject(response);\r\n            }\r\n        };\r\n    }\r\n})();\r\n","\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('common.loading')\r\n        .directive('httpLoadingInterceptorSpinner', httpLoadingInterceptorSpinner);\r\n\r\n    httpLoadingInterceptorSpinner.$inject = ['$timeout'];\r\n    function httpLoadingInterceptorSpinner($timeout) {\r\n        // Usage:\r\n        //\r\n        // Creates:\r\n        //\r\n        return {\r\n            restrict: 'A',\r\n            template: '',\r\n            link: function ($scope, element, attrs) {\r\n                var loadingTimeout = null;\r\n                $scope.$on(\"httpLoadingInterceptor:show\", function () {\r\n                    // console.log('show');\r\n                    loadingTimeout = $timeout(function () {\r\n                        element.addClass('loading-visible')\r\n                    }, 300);\r\n                });\r\n\r\n                $scope.$on(\"httpLoadingInterceptor:hide\", function () {\r\n                    if (loadingTimeout !== null) $timeout.cancel(loadingTimeout);\r\n                    // console.log('hide');\r\n                    element.removeClass('loading-visible');\r\n                });\r\n\r\n            }\r\n        };\r\n    }\r\n})();\r\n\r\n","\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('common.loading').config([\"$httpProvider\", function ($httpProvider) {\r\n        $httpProvider.interceptors.push('httpLoadingInterceptorService');\r\n    }]);\r\n})();\r\n\r\n","(function () {\r\n    'use strict';\r\n\r\n    angular.module(\"common.exception\", []);\r\n\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular.module(\"common.exception\")\r\n        .factory('http.interceptor', function ($q) {\r\n            return {\r\n                responseError: function (rejection) {\r\n                    // 未授权的请求，跳转到登录页面\r\n                    if (rejection.status === 401) {\r\n                        var encodedUrl = decodeURI(location.pathname + location.hash);\r\n                        window.location.href = '/Frame/NeedLogon.aspx?ReturnUrl=' + encodedUrl;\r\n                    } else if (rejection.status === 400) {\r\n                        swal(\"警告\", rejection.data.Message);\r\n                    } else if (rejection.status === 500) {\r\n                        swal(\"服务器出错了\", rejection.data.ExceptionMessage);\r\n                    } else if (rejection.status === -1) {\r\n                        swal(\"网络好像出问题了\", '');\r\n                    }\r\n                    return $q.reject(rejection);\r\n                }\r\n            };\r\n        })\r\n        .config([\"$httpProvider\", function ($httpProvider) {\r\n            $httpProvider.interceptors.push(\"http.interceptor\");\r\n        }]);\r\n\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('demo.home', [\r\n        \r\n    ]);\r\n})();","(function() {\r\n'use strict';\r\n\r\n    angular\r\n        .module('demo.home')\r\n        .controller('HomeController', HomeController);\r\n\r\n    HomeController.inject = [];\r\n    function HomeController() {\r\n        var vm = this;\r\n        \r\n\r\n        activate();\r\n\r\n        ////////////////\r\n\r\n        function activate() { }\r\n    }\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('demo', [\r\n        'ui.router',\r\n\r\n        'demo.home',\r\n\r\n        'common.loading',\r\n        'common.exception'\r\n    ]);\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('demo')\r\n        .config(function ($stateProvider, $urlRouterProvider) {\r\n            $urlRouterProvider.otherwise('/home');\r\n\r\n            $stateProvider\r\n                .state('home', {\r\n                    url: '/home',\r\n                    templateUrl: 'home/home.html',\r\n                    controller: 'HomeController',\r\n                    controllerAs: 'vm'\r\n                })\r\n        });\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('demo')\r\n        .service('Database', Database)\r\n        .config(['$httpProvider', function ($httpProvider) {\r\n            $httpProvider.interceptors.push('http.interceptor');\r\n        }]);\r\n\r\n    Database.$inject = ['$http'];\r\n\r\n    function Database($http) {\r\n\r\n    }\r\n})();\r\n"]}